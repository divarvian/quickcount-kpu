<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charts</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <canvas id="pieChart" width="400" height="400"></canvas>
    <canvas id="barChart" width="400" height="400"></canvas>
    <script>
      async function fetchDataAndDrawChart() {
        try {
          const pilpresValue = await fetch('https://sirekap-obj-data.kpu.go.id/pemilu/hhcw/ppwp.json');
          const pilpresCandidate = await fetch('https://sirekap-obj-data.kpu.go.id/pemilu/ppwp.json');
          const dataPilpres = await response.json();
          const dataCandidate = await responseNames.json();
          drawPilpresChart(dataPilpres, dataCandidate);
        } catch (error) {
          console.error('Error fetching data:', error);
        }
      }
      function drawPilpresChart(dataPilpres, dataCandidate) {
      // Data untuk diagram pie
      var pieData = {
        labels: ['A', 'B', 'C', 'D', 'E'],
        datasets: [{
          data: [12, 19, 3, 17, 28],
          backgroundColor: ['red', 'blue', 'green', 'yellow', 'orange']
        }]
      };
      // Menampilkan diagram pie
      var pieChart = new Chart(document.getElementById('pieChart'), {
        type: 'pie',
        data: pieData,
        options: {
          plugins: {
            legend: {
              display: false,
            },
            title: {
              display: true,
              text: 'QUICK COUNT PILPRES RI 2024'
            }
          }
        }
      });
      }
      // Data untuk diagram batang
      var barData = {
        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
        datasets: [{
          label: 'Sales',
          data: [65, 59, 80, 81, 56, 55, 40],
          backgroundColor: ['red', 'blue', 'green', 'yellow', 'orange', 'purple', 'pink'],
          borderColor: ['red', 'blue', 'green', 'yellow', 'orange', 'purple', 'pink'],
          borderWidth: 1
        }]
      };
      // Menampilkan diagram batang
      var barChart = new Chart(document.getElementById('barChart'), {
        type: 'bar',
        data: barData,
        options: {
          scales: {
            y: {
              beginAtZero: true, // Start y-axis at 0
              display: true
            },
            x: {
              display: false // This hides the x-axis labels
            },
          },
          plugins: {
            title: {
              display: true,
              text: 'QUICK COUNT DPR RI 2024'
            },
            legend: {
              display: false
            }
          }
        }
      });
      fetchDataAndDrawChart();
    </script>
  </body>
</html>
